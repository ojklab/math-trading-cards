<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>バトル画面</title>

    <style>
      body {
        margin: 0;
        background: #8dd3d1;
        font-family: 'Yu Gothic', sans-serif;
      }

      .container {
        width: 95%;
        max-width: 1000px;
        margin: auto;
        padding: 20px;
      }

      .top-row {
        display: flex;
        justify-content: space-between;
      }

      .timer {
        font-size: 28px;
      }

      .main-area {
        display: flex;
        margin-top: 30px;
        gap: 40px;
      }

      .enemy-area {
        width: 200px;
      }

      .enemy-card {
        width: 160px;
        height: 220px;
        background: #fff;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 32px;
      }

      .enemy-card-small {
        margin-top: 20px;
        background: #fff;
        border-radius: 15px;
        padding: 10px;
        width: 160px;
      }

      .enemy-card-small .level {
        background: #f2a464;
        color: #fff;
        font-weight: bold;
        text-align: center;
        border-radius: 10px;
        padding: 3px;
      }

      .enemy-card-small .img {
        width: 100%;
        height: 80px;
        background: #c5e3ff;
        margin-top: 5px;
        border-radius: 10px;
      }

      .enemy-card-small .name {
        text-align: center;
        font-weight: bold;
        margin-top: 8px;
      }

      .enemy-card-small .status {
        display: flex;
        justify-content: space-between;
        margin-top: 5px;
        font-size: 12px;
      }

      .right-area {
        flex-grow: 1;
      }

      .question-box {
        background: #f9f3e8;
        padding: 25px;
        border-radius: 25px;
        font-size: 36px;
        text-align: center;
      }

      .number-pad {
        background: #f9f3e8;
        padding: 20px;
        border-radius: 25px;
        margin-top: 20px;
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 15px;
      }

      .number-pad div {
        font-size: 28px;
        text-align: center;
        cursor: pointer;
      }

      .number-pad div.selected {
        background: #ffd8c2;
        border-radius: 10px;
        border: 2px solid #ff8a65;
      }

      .gauge-area {
        margin-top: 30px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .gauge-wrapper {
        background: #ffe4e0;
        height: 20px;
        border-radius: 20px;
        flex-grow: 1;
        overflow: hidden;
      }

      .gauge {
        width: 60%;
        height: 100%;
        background: #f38b7c;
      }

      .go-btn {
        background: #f38b7c;
        border: none;
        border-radius: 50%;
        width: 70px;
        height: 70px;
        font-size: 22px;
        color: white;
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="top-row">
        <div></div>
        <div class="timer">のこり：0:30</div>
      </div>

      <div class="main-area">
        <div class="enemy-area">
          <div class="enemy-card">てき</div>
          <p>HP 30</p>
          <p>+100(スコア)</p>

          <div class="enemy-card-small">
            <div class="level">LEVEL 3</div>
            <div class="img"></div>
            <div class="name">ELEPHANT</div>
            <div class="status">
              <span>HP 10</span>
              <span>POWER 5</span>
            </div>
          </div>

          <p>HP 30 なまえ</p>
          <p>Next ××</p>
        </div>

        <div class="right-area">
          <div class="question-box">1 + 2 = ?</div>

          <div class="number-pad">
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>←</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
            <div>0</div>
            <div>○</div>
          </div>

          <div class="gauge-area">
            <span class="skill-name">必殺技なまえ</span>
            <div class="gauge-wrapper">
              <div class="gauge"></div>
            </div>
            <button class="go-btn">go!</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ⭐ ここに JavaScript を配置するとすべて動く！ -->
    <script>
      // ===================================
      // タイマー
      // ===================================
      let timeLeft = 30;
      const timerEl = document.querySelector('.timer');

      const timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = `のこり：0:${String(timeLeft).padStart(2, '0')}`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          timerEl.textContent = 'のこり：0:00';
        }
      }, 1000);

      // ===================================
      // 数字の選択強調
      // ===================================
      const numbers = document.querySelectorAll('.number-pad div');

      numbers.forEach((num) => {
        num.addEventListener('click', () => {
          numbers.forEach((n) => n.classList.remove('selected'));
          num.classList.add('selected');
        });
      });

      // ===================================
      // ゲージ上昇
      // ===================================
      let gaugeValue = 60;
      const gaugeEl = document.querySelector('.gauge');

      function addGauge() {
        gaugeValue += 20;
        if (gaugeValue > 100) gaugeValue = 100;
        gaugeEl.style.width = gaugeValue + '%';
      }

      document.querySelector('.go-btn').addEventListener('click', addGauge);

      if (timeLeft <= 0) {
        clearInterval(timer);
        timerEl.textContent = 'のこり：0:00';

        // ★ 結果画面へ移動
        window.location.href = 'result.html';
      }

      localStorage.setItem('score', 100); // ←実際のスコア
      localStorage.setItem('level', 3); // ←実際のレベル
    </script>
  </body>
</html>
